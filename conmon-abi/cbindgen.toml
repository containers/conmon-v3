language = "C"
include_guard = "CONMON_LOG_PLUGIN_H"
pragma_once = true
documentation = true
line_length = 100
tab_width = 4
style = "both" # doc + comments

usize_is_size_t = true # map Rust usize to C size_t

# Optional prelude text at top of header:
header = """
/*
 * conmon-v3 Logging Plugin C ABI
 * This file is auto-generated by cbindgen. Do not edit by hand.
 */
"""

[export]
# Only export the symbols/types we define in this crate
include = [
  "CONMON_LOG_PLUGIN_ABI_VERSION",
  "conmon_kv_t",
  "conmon_log_record_t",
  "CONMON_LOG_OK",
  "CONMON_LOG_ERR",
  "conmon_log_plugin",
  "conmon_log_plugin_v1",
  "conmon_log_plugin_v1_get",
]

[parse]
# Keep it strict so we don't accidentally pull in symbols we do not want to
parse_deps = false

[defines]
